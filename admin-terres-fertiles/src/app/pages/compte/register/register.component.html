<div class="register-page-container standard-page-content">
<!-- Animation SVG d'un oiseau volant en haut de la page -->
<div class="bird-animation-container">
  <svg class="bird-svg" viewBox="0 0 120 60">
    <g>
      <path class="bird-wing" d="M10,30 Q30,5 60,30 Q90,55 110,30" fill="none" stroke="#388e3c" stroke-width="4"/>
      <ellipse class="bird-body" cx="60" cy="30" rx="10" ry="6" fill="#6d4c41"/>
      <circle class="bird-head" cx="72" cy="28" r="4" fill="#8d6e63"/>
      <circle class="bird-eye" cx="74" cy="27" r="1" fill="#222"/>
      <polygon class="bird-beak" points="76,28 80,29 76,30" fill="#ffd600"/>
    </g>
  </svg>
</div>

<h2 class="register-title"><mat-icon>eco</mat-icon> Inscription Terres Fertiles</h2>

<!-- Messages animés -->
<div *ngIf="successMessage" class="register-message success">
  <mat-icon class="msg-icon">check_circle</mat-icon>
  <span>{{ successMessage }}</span>
</div>
<div *ngIf="errorMessage" class="register-message error">
  <mat-icon class="msg-icon">error</mat-icon>
  <span>{{ errorMessage }}</span>
</div>

<form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="register-form mat-elevation-z8">
  <mat-form-field appearance="outline">
    <mat-label>Nom d'utilisateur</mat-label>
    <mat-icon matPrefix>person</mat-icon>
    <input matInput formControlName="username" required>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Mot de passe</mat-label>
    <mat-icon matPrefix>lock</mat-icon>
    <input matInput type="password" formControlName="password" required>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Email</mat-label>
    <mat-icon matPrefix>mail</mat-icon>
    <input matInput type="email" formControlName="email">
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Rôle</mat-label>
    <mat-icon matPrefix>supervisor_account</mat-icon>
    <mat-select formControlName="role" required>
      <mat-option value="exploitant">Exploitant</mat-option>
      <mat-option value="entreprise">Entreprise</mat-option>
      <mat-option value="client">Client</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Nom de l'entreprise</mat-label>
    <mat-icon matPrefix>business</mat-icon>
    <input matInput formControlName="company_name">
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>SIRET</mat-label>
    <mat-icon matPrefix>badge</mat-icon>
    <input matInput formControlName="siret_number">
  </mat-form-field>

  <button mat-raised-button color="primary" class="register-btn" [disabled]="registerForm.invalid || isSubmitting">
    <mat-icon>how_to_reg</mat-icon> S'inscrire
    <mat-progress-spinner *ngIf="isSubmitting" diameter="22" mode="indeterminate" color="accent" style="margin-left:8px;vertical-align:middle;"></mat-progress-spinner>
  </button>
  </form>
</div>